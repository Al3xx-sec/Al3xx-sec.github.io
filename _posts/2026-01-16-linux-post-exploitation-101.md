---
title: "Linux Post-Exploitation 101: What I Do First When I Get a Linux Shell"
date: 2026-01-16 00:00:00 +0800
categories: [Methodology]
tags: [linux, privilege escalation, post-exploitation, enumeration]
image: /assets/img/got-root.png
---

Writing this post took longer than it should have.

Not because I didn't know what to write, but because starting a technical blog is intimidating. I kept wondering whether I knew enough, whether my process was "correct," or if anyone would even find value in reading it. Eventually, I realized something important: the best way to truly learn is to explain.

So I stopped overthinking and started writing.

This post marks my first step into technical writing, and if you're reading this, I'm glad you're here.

## Series Overview: From Shell to Root

This article is part of a multi-part series focused on Linux post-exploitation and privilege escalation:

- Part 1: Post-Exploitation 101: What I Do First When I Get a Linux Shell (You are here)
- Part 2: Post-Exploitation 102: Breaking Out and Moving Up
- Part 3: Post-Exploitation 103: The Power of Permissions
- Part 4: Post-Exploitation 104: Mastering the Invisible Machine

## You Got a Shell. Now What?

You've landed a shell on a Linux machine. The adrenaline kicks in, but this is where many people make a mistake.

Before rushing into kernel exploits like Dirty Pipe or firing off automated tools, you need to slow down and understand where you are. Jumping straight to exploits can crash systems, trigger alarms, or make you miss embarrassingly simple privilege escalation paths.

In this first part, we'll focus on manual enumeration, the "boring" stuff that quietly gets you root far more often than flashy exploits.

## 1. Who Am I? (User Orientation)

The very first thing I check is my current user context.

```bash
whoami
id
```

`whoami` tells you who you are.
`id` tells you what you're allowed to do.

The `id` command is critical because it reveals group memberships. If you see groups like `sudo`, `docker`, `lxd`, or even `adm`, you're already close to escalation. Sometimes, privilege escalation is literally one `sudo -l` away.

## 2. Knowing the Terrain (OS & Kernel)

Next, I want to understand the environment I'm operating in.

**Check the OS Version:**

```bash
cat /etc/os-release
```

A Debian-based system (Ubuntu) behaves differently from a Red Hat-based one (CentOS). If I see something like Ubuntu 14.04, I start thinking about legacy vulnerabilities. If it's Ubuntu 22.04, I know the system is likely patched, and misconfigurations become the primary target.

**Check the Kernel:**

```bash
uname -a
```

Kernel exploits should be a last resort. They're often unstable and noisy. If the kernel is severely outdated, public PoCs might exist, but always exhaust safer options first.

## 3. The Hidden Goldmine: Environment & History

Before touching files or running tools, I look for traces of human behavior.

**The PATH Variable:**

```bash
echo $PATH
```

If the current directory (`.`) appears in the PATH, or if a writable directory comes before standard locations like `/bin`, this opens the door for PATH abuse. Dropping a malicious binary named `ls` or `cat` can be game-changing.

**Bash History:**

```bash
history
find / -type f -name ".*history" 2>/dev/null
```

This is where things get interesting. People reuse passwords. People type secrets into terminals. I've personally found credentials just by reading the last few commands a sysadmin ran.

Never skip this step.

## 4. Low-Hanging Fruit: Configuration Files

If escalation isn't obvious, it's time to hunt for credentials.

Developers often store secrets in plain-text configuration files. I use a simple find command while excluding `/proc` to reduce noise:

```bash
find / ! -path "*/proc/*" -iname "*config*" -type f 2>/dev/null
```

On web servers, I always check `/var/www`. Files like `wp-config.php` are notorious for containing database credentials, and more often than not, those passwords are reused for system usersâ€¦ including root.

## 5. Network Awareness & Pivoting

Finally, I check whether this machine is a dead end or a gateway.

```bash
ip a
```

If you see multiple interfaces, for example one `10.x.x.x` and another `192.x.x.x`, this box might be your entry point into an internal network. That's no longer just privilege escalation; that's lateral movement potential.

## What's Next?

In Part 2, we'll move from passive enumeration to active exploitation. We'll explore restricted shell escapes, PATH manipulation, wildcard abuse, and other techniques that let you trick the system into running your code.
